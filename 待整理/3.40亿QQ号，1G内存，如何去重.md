> 1.60亿个URL，限制1G内存，如何去重？
>
> 2.文件中有40亿个QQ号码，请设计算法对QQ号码去重，相同的QQ号码仅保留一个，内存限制1G.

## 业务场景

腾讯的QQ号都是4字节正整数 32个bit位，所以QQ号码的个数是43亿左右，理论值2^32-1个，

又因为是无符号的，翻倍了一下，所以43亿左右。

## 实现方案

分析，一个qq号码，就是一个unsigned int。

40亿个QQ号，就是40亿个 unsigned int，一个 unsigned int占用4个字节。

若直接存储需要`4000000000*4 /1024/1024/1024 = 14.9G`内存。

1. bitmap，一位一个QQ号，`4000000000 * 1 /8/1024/1024 = 476.83MB`
2. 布隆过滤器，再次节约空间，代价是有一定误判率
3. 先外部排序，再去重